# 日志

## 为什么通常在发送数据埋点请求的时候使用的是 1x1 像素的透明 gif 图片？

谷歌和百度等都是通过`new Image()`的方式请求`1x1`像素的透明`gif`图片的方式来发送埋点数据，而服务器端一般用一个`1x1`的`gif`图片来作为响应，但这有点浪费服务器资源；因此用`header`来响应比较合适，目前比较合适的做法是服务器端发送"204 No Content"，即“服务器成功处理了请求，但不需要返回任何实体内容”。

- 为什么是图片？
  - 请求图片，没有跨域问题
  - 请求图片，不会阻塞页面加载
  - 图片请求发出即可，也不需要等待服务器返回任何数据
  - 相比 XMLHttpRequest 对象发送 GET 请求，性能上更好
- 更进一步，为什么是 gif ？
  - gif 的最低合法体积最小
    - 最小的 BMP 文件需要 74 个字节
    - 最小的 PNG 需要 67 个字节
    - 而合法的 GIF，只需要 43 个字节
